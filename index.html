<!DOCTYPE html>
<html>
  <head>
    <title>Ejemplo de eventos en JavaScript</title>
  </head>
  <body>
    <h1>Hola, esta es una página de ejemplo para eventos en JavaScript</h1>
    <img src="https://via.placeholder.com/150" alt="Imagen de ejemplo" id="imagen">
    <button id="boton">Haz clic aquí</button>

    <ul id="lista"></ul>
    <input type="text" id="nuevaTarea">
    <button id="agregarTarea">Agregar tarea</button>
    <div id="mostrarTarea"></div>

    <button id="esperar">Esperar 5 segundos</button>
    <div id="mensaje"></div>

    <script>
      window.addEventListener("DOMContentLoaded", function() {
        document.getElementById("imagen").addEventListener("click", hanFetClick);
        document.getElementById("boton").addEventListener("click", hanFetClick);

        var listaTareas = [];
        var listaElementos = document.getElementById("lista");
        var nuevaTareaInput = document.getElementById("nuevaTarea");
        var mostrarTareaDiv = document.getElementById("mostrarTarea");

        document.getElementById("agregarTarea").addEventListener("click", agregarTarea);
        listaElementos.addEventListener("click", mostrarTarea);

        function agregarTarea() {
          var nuevaTarea = nuevaTareaInput.value;
          listaTareas.push(nuevaTarea);
          nuevaTareaInput.value = "";
          actualizarListaTareas();
        }

        function mostrarTarea(event) {
          var tareaSeleccionada = event.target.innerText;
          mostrarTareaDiv.innerHTML = "Se seleccionó la tarea: " + tareaSeleccionada;
        }

        function actualizarListaTareas() {
          listaElementos.innerHTML = "";
          for (var i = 0; i < listaTareas.length; i++) {
            var nuevaTareaElemento = document.createElement("li");
            nuevaTareaElemento.innerText = listaTareas[i];
            listaElementos.appendChild(nuevaTareaElemento);
          }
        }

        document.getElementById("esperar").addEventListener("click", esperar5Segundos);

        function esperar5Segundos() {
          document.getElementById("mensaje").innerHTML = "Esperando 5 segundos...";
          setTimeout(function() {
            document.getElementById("mensaje").innerHTML = "Han pasado 5 segundos";
          }, 5000);
        }
      });

      function hanFetClick(event) {
        if (event.target.tagName === "IMG") {
          alert("Se hizo clic en la imagen");
        } else if (event.target.tagName === "BUTTON") {
          alert("Se hizo clic en el botón");
        }
      }
    </script>
  </body>
</html>
